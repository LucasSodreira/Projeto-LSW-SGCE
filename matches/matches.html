<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />    <link rel="stylesheet" href="../css/index.css" />
    <link rel="stylesheet" href="matches.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Istok+Web&family=Sofia+Sans&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <title>Partidas - SGCE</title>
</head>
<body>    <ul id="navbar">
        <li><a href="../index.html">Home</a></li>
        <li><a href="matches.html" class="active">Partidas</a></li>
        <li><a href="../templates/statistics.html">Estatísticas</a></li>
        <li class="admin-only" style="float:right; display: none;"><a href="../templates/admin.html">Painel Admin</a></li>
        <li style="float:right"><a href="../templates/login.html">Entrar</a></li>
    </ul>

    <div class="container">
        <h1>Partidas</h1>
        
        <div class="tournaments-filter">
            <select id="competitionFilter">
                <option value="all">Todas as competições</option>
            </select>
            <select id="sportFilter">
                <option value="all">Todas as modalidades</option>
                <option value="futebol">Futebol</option>
                <option value="vôlei">Vôlei</option>
                <option value="basquete">Basquete</option>
                <option value="handebol">Handebol</option>
            </select>
            <select id="statusFilter">
                <option value="all">Todos os status</option>
                <option value="agendado">Agendado</option>
                <option value="em_andamento">Em andamento</option>
                <option value="finalizado">Finalizado</option>
            </select>
            <input type="date" id="dateFilter" placeholder="Data da partida">
            <button id="filterButton">Filtrar</button>
            <button id="clearFilters">Limpar Filtros</button>
        </div>
        
        <div class="matches-container">
            <div class="matches-grid" id="matchesGrid">
                <!-- As partidas serão carregadas dinamicamente via JavaScript -->
            </div>
        </div>

        <!-- Modal para detalhes da partida -->
        <div id="matchModal" class="modal">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <h2 id="modalMatchTitle"></h2>
                
                <div class="match-details">
                    <div class="match-teams">
                        <div class="team-info">
                            <h3 id="teamAName"></h3>
                            <div class="team-score" id="teamAScore">0</div>
                        </div>
                        <div class="vs">VS</div>
                        <div class="team-info">
                            <h3 id="teamBName"></h3>
                            <div class="team-score" id="teamBScore">0</div>
                        </div>
                    </div>
                    
                    <div class="match-info">
                        <div class="info-item">
                            <span class="label">Data:</span>
                            <span id="matchDate">-</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Modalidade:</span>
                            <span id="matchSport">-</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Fase:</span>
                            <span id="matchPhase">-</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Status:</span>
                            <span id="matchStatus" class="status-badge">-</span>
                        </div>
                        <div class="info-item">
                            <span class="label">Competição:</span>
                            <span id="matchCompetition">-</span>
                        </div>
                    </div>

                    <div class="admin-only" style="display: none;">
                        <h3>Ações Administrativas</h3>
                        <div class="admin-actions">
                            <button id="editMatchBtn" class="btn-primary">Editar Resultado</button>
                            <button id="deleteMatchBtn" class="btn-danger">Excluir Partida</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal para edição de partida (somente admin) -->
        <div id="editMatchModal" class="modal">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <h2>Editar Partida</h2>
                
                <form id="editMatchForm">
                    <div class="form-group">
                        <label for="editTeamAScore">Placar Time A:</label>
                        <input type="number" id="editTeamAScore" min="0" required>
                    </div>
                    <div class="form-group">
                        <label for="editTeamBScore">Placar Time B:</label>
                        <input type="number" id="editTeamBScore" min="0" required>
                    </div>
                    <div class="form-group">
                        <label for="editMatchStatus">Status:</label>
                        <select id="editMatchStatus" required>
                            <option value="Agendado">Agendado</option>
                            <option value="Em andamento">Em andamento</option>
                            <option value="Finalizado">Finalizado</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editMatchDate">Data:</label>
                        <input type="date" id="editMatchDate" required>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn-primary">Salvar</button>
                        <button type="button" class="btn-secondary" id="cancelEditBtn">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="../js/auth.js"></script>
    <script src="matches.js"></script>
</body>
</html>
